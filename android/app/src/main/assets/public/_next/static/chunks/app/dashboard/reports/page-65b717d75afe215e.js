(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5589,6104],{4710:(e,a,t)=>{"use strict";t.d(a,{ReportGenerator:()=>ei});var s=t(95155),r=t(12115),n=t(35317),l=t(56104),i=t(83013),d=t(80644),c=t(53941),o=t(51958),m=t(51920),x=t(50172),u=t(5263),h=t(80659),f=t(50286),p=t(15300),j=t(68718),g=t(59434),b=t(3925),N=t(30285),y=t(66695),v=t(59409),w=t(85511),k=t(14636),R=t(85127),A=t(17313),S=t(87481),_=t(3401),M=t(96025),T=t(16238),I=t(94517),C=t(24026),K=t(58227),P=t(83540);let z={light:"",dark:".dark"},L=r.createContext(null);function B(){let e=r.useContext(L);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let W=r.forwardRef((e,a)=>{let{id:t,className:n,children:l,config:i,...d}=e,c=r.useId(),o="chart-".concat(t||c.replace(/:/g,""));return(0,s.jsx)(L.Provider,{value:{config:i},children:(0,s.jsxs)("div",{"data-chart":o,ref:a,className:(0,g.cn)("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",n),...d,children:[(0,s.jsx)(Z,{id:o,config:i}),(0,s.jsx)(P.u,{children:l})]})})});W.displayName="Chart";let Z=e=>{let{id:a,config:t}=e,r=Object.entries(t).filter(e=>{let[,a]=e;return a.theme||a.color});return r.length?(0,s.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(z).map(e=>{let[t,s]=e;return"\n".concat(s," [data-chart=").concat(a,"] {\n").concat(r.map(e=>{var a;let[s,r]=e,n=(null==(a=r.theme)?void 0:a[t])||r.color;return n?"  --color-".concat(s,": ").concat(n,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null};I.m;let D=r.forwardRef((e,a)=>{let{active:t,payload:n,className:l,indicator:i="dot",hideLabel:d=!1,hideIndicator:c=!1,label:o,labelFormatter:m,labelClassName:x,formatter:u,color:h,nameKey:f,labelKey:p}=e,{config:j}=B(),b=r.useMemo(()=>{var e;if(d||!(null==n?void 0:n.length))return null;let[a]=n,t="".concat(p||a.dataKey||a.name||"value"),r=H(j,a,t),l=p||"string"!=typeof o?null==r?void 0:r.label:(null==(e=j[o])?void 0:e.label)||o;return m?(0,s.jsx)("div",{className:(0,g.cn)("font-medium",x),children:m(l,n)}):l?(0,s.jsx)("div",{className:(0,g.cn)("font-medium",x),children:l}):null},[o,m,n,d,x,j,p]);if(!t||!(null==n?void 0:n.length))return null;let N=1===n.length&&"dot"!==i;return(0,s.jsxs)("div",{ref:a,className:(0,g.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",l),children:[N?null:b,(0,s.jsx)("div",{className:"grid gap-1.5",children:n.map((e,a)=>{let t="".concat(f||e.name||e.dataKey||"value"),r=H(j,e,t),n=h||e.payload.fill||e.color;return(0,s.jsx)("div",{className:(0,g.cn)("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===i&&"items-center"),children:u&&(null==e?void 0:e.value)!==void 0&&e.name?u(e.value,e.name,e,a,e.payload):(0,s.jsxs)(s.Fragment,{children:[(null==r?void 0:r.icon)?(0,s.jsx)(r.icon,{}):!c&&(0,s.jsx)("div",{className:(0,g.cn)("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===i,"w-1":"line"===i,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===i,"my-0.5":N&&"dashed"===i}),style:{"--color-bg":n,"--color-border":n}}),(0,s.jsxs)("div",{className:(0,g.cn)("flex flex-1 justify-between leading-none",N?"items-end":"items-center"),children:[(0,s.jsxs)("div",{className:"grid gap-1.5",children:[N?b:null,(0,s.jsx)("span",{className:"text-muted-foreground",children:(null==r?void 0:r.label)||e.name})]}),e.value&&(0,s.jsx)("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});function H(e,a,t){if("object"!=typeof a||null===a)return;let s="payload"in a&&"object"==typeof a.payload&&null!==a.payload?a.payload:void 0,r=t;return t in a&&"string"==typeof a[t]?r=a[t]:s&&t in s&&"string"==typeof s[t]&&(r=s[t]),r in e?e[r]:e[t]}D.displayName="ChartTooltip",C.s,r.forwardRef((e,a)=>{let{className:t,hideIcon:r=!1,payload:n,verticalAlign:l="bottom",nameKey:i}=e,{config:d}=B();return(null==n?void 0:n.length)?(0,s.jsx)("div",{ref:a,className:(0,g.cn)("flex items-center justify-center gap-4","top"===l?"pb-3":"pt-3",t),children:n.map(e=>{let a="".concat(i||e.dataKey||"value"),t=H(d,e,a);return(0,s.jsxs)("div",{className:(0,g.cn)("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[(null==t?void 0:t.icon)&&!r?(0,s.jsx)(t.icon,{}):(0,s.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),null==t?void 0:t.label]},e.value)})}):null}).displayName="ChartLegend";var G=t(24944),E=t(77070),F=t(81203);function O(e){let{data:a,className:t}=e,n=(0,r.useMemo)(()=>{if(0===a.length)return null;let e=a.length,t=a.reduce((e,a)=>(e[a.status]=(e[a.status]||0)+1,e),{}),s=t.Hadir||0,r=t.Sakit||0,n=t.Izin||0,l=t.Alfa||0,i=a.reduce((e,a)=>(e[a.studentName]||(e[a.studentName]={total:0,hadir:0,sakit:0,izin:0,alfa:0}),e[a.studentName].total++,e[a.studentName][a.status.toLowerCase()]++,e),{}),d=Object.keys(i).length,c=[...new Set(a.map(e=>e.date))].length,o=Object.entries(i).map(e=>{let[a,t]=e;return{name:a,attendanceRate:t.hadir/t.total*100,totalRecords:t.total}});return{totalRecords:e,hadirCount:s,sakitCount:r,izinCount:n,alfaCount:l,attendanceRate:e>0?s/e*100:0,absentRate:e>0?(r+n+l)/e*100:0,uniqueStudents:d,uniqueDates:c,bestAttendance:o.reduce((e,a)=>a.attendanceRate>e.attendanceRate?a:e),worstAttendance:o.reduce((e,a)=>a.attendanceRate<e.attendanceRate?a:e),averageAttendanceRate:o.reduce((e,a)=>e+a.attendanceRate,0)/o.length}},[a]);return n?(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,s.jsxs)(y.Zp,{className:"bg-green-50 border-green-200",children:[(0,s.jsxs)(y.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(y.ZB,{className:"text-sm font-medium text-green-900",children:"Tingkat Kehadiran"}),(0,s.jsx)(h.A,{className:"h-4 w-4 text-green-600"})]}),(0,s.jsxs)(y.Wu,{children:[(0,s.jsxs)("div",{className:"text-2xl font-bold text-green-900",children:[n.attendanceRate.toFixed(1),"%"]}),(0,s.jsx)(G.k,{value:n.attendanceRate,className:"mt-2"}),(0,s.jsxs)("p",{className:"text-xs text-green-800/80 mt-1",children:[n.hadirCount," dari ",n.totalRecords," catatan"]})]})]}),(0,s.jsxs)(y.Zp,{className:"bg-red-50 border-red-200",children:[(0,s.jsxs)(y.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(y.ZB,{className:"text-sm font-medium text-red-900",children:"Tingkat Ketidakhadiran"}),(0,s.jsx)(E.A,{className:"h-4 w-4 text-red-600"})]}),(0,s.jsxs)(y.Wu,{children:[(0,s.jsxs)("div",{className:"text-2xl font-bold text-red-900",children:[n.absentRate.toFixed(1),"%"]}),(0,s.jsx)(G.k,{value:n.absentRate,className:"mt-2"}),(0,s.jsxs)("p",{className:"text-xs text-red-800/80 mt-1",children:[n.sakitCount+n.izinCount+n.alfaCount," catatan tidak hadir"]})]})]}),(0,s.jsxs)(y.Zp,{className:"bg-blue-50 border-blue-200",children:[(0,s.jsxs)(y.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(y.ZB,{className:"text-sm font-medium text-blue-900",children:"Siswa Terlibat"}),(0,s.jsx)(f.A,{className:"h-4 w-4 text-blue-600"})]}),(0,s.jsxs)(y.Wu,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-900",children:n.uniqueStudents}),(0,s.jsxs)("p",{className:"text-xs text-blue-800/80",children:["Rata-rata kehadiran: ",n.averageAttendanceRate.toFixed(1),"%"]})]})]}),(0,s.jsxs)(y.Zp,{className:"bg-purple-50 border-purple-200",children:[(0,s.jsxs)(y.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(y.ZB,{className:"text-sm font-medium text-purple-900",children:"Rentang Waktu"}),(0,s.jsx)(m.A,{className:"h-4 w-4 text-purple-600"})]}),(0,s.jsxs)(y.Wu,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-purple-900",children:n.uniqueDates}),(0,s.jsx)("p",{className:"text-xs text-purple-800/80",children:"hari tercatat"})]})]}),(0,s.jsxs)(y.Zp,{className:"md:col-span-2",children:[(0,s.jsx)(y.aR,{children:(0,s.jsxs)(y.ZB,{className:"text-sm font-medium flex items-center gap-2",children:[(0,s.jsx)(u.A,{className:"h-4 w-4"}),"Breakdown Status Kehadiran"]})}),(0,s.jsxs)(y.Wu,{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-green-700",children:"Hadir"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(G.k,{value:n.hadirCount/n.totalRecords*100,className:"w-20"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:n.hadirCount})]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-yellow-700",children:"Sakit"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(G.k,{value:n.sakitCount/n.totalRecords*100,className:"w-20"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:n.sakitCount})]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-blue-700",children:"Izin"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(G.k,{value:n.izinCount/n.totalRecords*100,className:"w-20"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:n.izinCount})]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-red-700",children:"Alfa"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(G.k,{value:n.alfaCount/n.totalRecords*100,className:"w-20"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:n.alfaCount})]})]})]})]}),(0,s.jsxs)(y.Zp,{className:"md:col-span-2",children:[(0,s.jsx)(y.aR,{children:(0,s.jsxs)(y.ZB,{className:"text-sm font-medium flex items-center gap-2",children:[(0,s.jsx)(F.A,{className:"h-4 w-4"}),"Performa Kehadiran Siswa"]})}),(0,s.jsxs)(y.Wu,{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center p-2 bg-green-50 rounded",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-green-900",children:"Kehadiran Terbaik"}),(0,s.jsx)("p",{className:"text-xs text-green-700",children:n.bestAttendance.name})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("p",{className:"text-lg font-bold text-green-900",children:[n.bestAttendance.attendanceRate.toFixed(1),"%"]}),(0,s.jsxs)("p",{className:"text-xs text-green-700",children:[Math.round(n.bestAttendance.attendanceRate/100*n.bestAttendance.totalRecords)," dari ",n.bestAttendance.totalRecords]})]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center p-2 bg-red-50 rounded",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-red-900",children:"Perlu Perhatian"}),(0,s.jsx)("p",{className:"text-xs text-red-700",children:n.worstAttendance.name})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("p",{className:"text-lg font-bold text-red-900",children:[n.worstAttendance.attendanceRate.toFixed(1),"%"]}),(0,s.jsxs)("p",{className:"text-xs text-red-700",children:[Math.round(n.worstAttendance.attendanceRate/100*n.worstAttendance.totalRecords)," dari ",n.worstAttendance.totalRecords]})]})]})]})]})]}):(0,s.jsx)(y.Zp,{children:(0,s.jsx)(y.Wu,{className:"flex items-center justify-center h-32",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"Tidak ada data untuk ditampilkan"})})})}var U=t(7860),X=t(99445),V=t(94754),J=t(62341),q=t(93504),$=t(21374);let Q={Hadir:{label:"Hadir",color:"hsl(142, 76%, 36%)"},Sakit:{label:"Sakit",color:"hsl(48, 96%, 53%)"},Izin:{label:"Izin",color:"hsl(213, 94%, 68%)"},Alfa:{label:"Alfa",color:"hsl(0, 84%, 60%)"},attendanceRate:{label:"Tingkat Kehadiran (%)",color:"hsl(142, 76%, 36%)"}};function Y(e){let{data:a,dateRange:t}=e,n=(0,r.useMemo)(()=>0!==a.length&&(null==t?void 0:t.from)&&(null==t?void 0:t.to)?(0,U.k)({start:t.from,end:t.to}).map(e=>{let t=(0,i.GP)(e,"yyyy-MM-dd"),s=a.filter(e=>e.date===t).reduce((e,a)=>(e[a.status]=(e[a.status]||0)+1,e),{}),r=s.Hadir||0,n=s.Sakit||0,l=s.Izin||0,d=s.Alfa||0,c=r+n+l+d;return{date:(0,i.GP)(e,"dd/MM"),fullDate:t,displayDate:(0,i.GP)(e,"EEE, dd MMM",{locale:o.id}),Hadir:r,Sakit:n,Izin:l,Alfa:d,total:c,attendanceRate:Math.round(10*(c>0?r/c*100:0))/10}}):[],[a,t]),l=(0,r.useMemo)(()=>{if(n.length<2)return null;let e=n.slice(0,Math.min(7,n.length)),a=n.slice(-Math.min(7,n.length)),t=e.reduce((e,a)=>e+a.attendanceRate,0)/e.length,s=a.reduce((e,a)=>e+a.attendanceRate,0)/a.length-t,r=Math.abs(s);return{trend:s>0?"naik":s<0?"turun":"stabil",percentage:r,isPositive:s>=0}},[n]);return 0===n.length?(0,s.jsxs)(y.Zp,{children:[(0,s.jsxs)(y.aR,{children:[(0,s.jsx)(y.ZB,{children:"Tren Kehadiran"}),(0,s.jsx)(y.BT,{children:"Grafik tren kehadiran dari waktu ke waktu"})]}),(0,s.jsx)(y.Wu,{className:"flex items-center justify-center h-64",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"Pilih rentang tanggal untuk melihat tren kehadiran"})})]}):(0,s.jsxs)("div",{className:"space-y-4",children:[l&&(0,s.jsx)(y.Zp,{className:"".concat(l.isPositive?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:(0,s.jsx)(y.Wu,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(h.A,{className:"h-5 w-5 ".concat(l.isPositive?"text-green-600":"text-red-600 rotate-180")}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-sm font-medium ".concat(l.isPositive?"text-green-900":"text-red-900"),children:["Tren Kehadiran ","stabil"===l.trend?"Stabil":"naik"===l.trend?"Meningkat":"Menurun"]}),(0,s.jsx)("p",{className:"text-xs ".concat(l.isPositive?"text-green-700":"text-red-700"),children:"stabil"!==l.trend&&"".concat(l.percentage.toFixed(1),"% dibanding periode sebelumnya")})]})]})})}),(0,s.jsxs)(y.Zp,{children:[(0,s.jsxs)(y.aR,{children:[(0,s.jsx)(y.ZB,{children:"Tren Tingkat Kehadiran"}),(0,s.jsx)(y.BT,{children:"Persentase kehadiran harian dalam periode yang dipilih"})]}),(0,s.jsx)(y.Wu,{children:(0,s.jsx)("div",{className:"h-[300px]",children:(0,s.jsx)(W,{config:Q,className:"w-full h-full",children:(0,s.jsxs)(X.Q,{data:n,margin:{top:5,right:20,left:10,bottom:5},children:[(0,s.jsx)("defs",{children:(0,s.jsxs)("linearGradient",{id:"attendanceGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,s.jsx)("stop",{offset:"5%",stopColor:"hsl(142, 76%, 36%)",stopOpacity:.3}),(0,s.jsx)("stop",{offset:"95%",stopColor:"hsl(142, 76%, 36%)",stopOpacity:0})]})}),(0,s.jsx)(V.d,{strokeDasharray:"3 3",vertical:!1}),(0,s.jsx)(M.W,{dataKey:"date",tickLine:!1,axisLine:!1,tickMargin:8}),(0,s.jsx)(T.h,{domain:[0,100],tickLine:!1,axisLine:!1,tickMargin:8,tickFormatter:e=>"".concat(e,"%")}),(0,s.jsx)(I.m,{content:e=>{let{active:a,payload:t,label:r}=e;if(a&&t&&t.length){let e=t[0].payload;return(0,s.jsxs)("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[(0,s.jsx)("p",{className:"font-medium",children:e.displayDate}),(0,s.jsxs)("p",{className:"text-green-600",children:["Tingkat Kehadiran: ",e.attendanceRate,"%"]}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.Hadir," hadir dari ",e.total," siswa"]})]})}return null}}),(0,s.jsx)(J.G,{type:"monotone",dataKey:"attendanceRate",stroke:"hsl(142, 76%, 36%)",fillOpacity:1,fill:"url(#attendanceGradient)",strokeWidth:2})]})})})})]}),(0,s.jsxs)(y.Zp,{children:[(0,s.jsxs)(y.aR,{children:[(0,s.jsx)(y.ZB,{children:"Breakdown Harian"}),(0,s.jsx)(y.BT,{children:"Detail status kehadiran per hari"})]}),(0,s.jsx)(y.Wu,{children:(0,s.jsx)("div",{className:"h-[350px]",children:(0,s.jsx)(W,{config:Q,className:"w-full h-full",children:(0,s.jsxs)(q.b,{data:n,margin:{top:5,right:20,left:10,bottom:5},children:[(0,s.jsx)(V.d,{strokeDasharray:"3 3",vertical:!1}),(0,s.jsx)(M.W,{dataKey:"date",tickLine:!1,axisLine:!1,tickMargin:8}),(0,s.jsx)(T.h,{tickLine:!1,axisLine:!1,tickMargin:8,allowDecimals:!1}),(0,s.jsx)(I.m,{content:e=>{let{active:a,payload:t,label:r}=e;if(a&&t&&t.length){let e=t[0].payload;return(0,s.jsxs)("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[(0,s.jsx)("p",{className:"font-medium mb-2",children:e.displayDate}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("p",{className:"text-green-600",children:["Hadir: ",e.Hadir]}),(0,s.jsxs)("p",{className:"text-yellow-600",children:["Sakit: ",e.Sakit]}),(0,s.jsxs)("p",{className:"text-blue-600",children:["Izin: ",e.Izin]}),(0,s.jsxs)("p",{className:"text-red-600",children:["Alfa: ",e.Alfa]}),(0,s.jsx)("hr",{className:"my-1"}),(0,s.jsxs)("p",{className:"font-medium",children:["Total: ",e.total]})]})]})}return null}}),(0,s.jsx)(C.s,{}),(0,s.jsx)($.N,{dataKey:"Hadir",stroke:"var(--color-Hadir)",strokeWidth:2,dot:{r:3}}),(0,s.jsx)($.N,{dataKey:"Sakit",stroke:"var(--color-Sakit)",strokeWidth:2,dot:{r:3}}),(0,s.jsx)($.N,{dataKey:"Izin",stroke:"var(--color-Izin)",strokeWidth:2,dot:{r:3}}),(0,s.jsx)($.N,{dataKey:"Alfa",stroke:"var(--color-Alfa)",strokeWidth:2,dot:{r:3}})]})})})})]})]})}var ee=t(26126),ea=t(85268),et=t(47105),es=t(91467),er=t(91721);function en(e){let{data:a}=e,t=(0,r.useMemo)(()=>0===a.length?[]:Object.values(a.reduce((e,a)=>(e[a.studentName]||(e[a.studentName]={name:a.studentName,totalRecords:0,hadir:0,sakit:0,izin:0,alfa:0}),e[a.studentName].totalRecords++,e[a.studentName][a.status.toLowerCase()]++,e),{})).map(e=>({...e,attendanceRate:e.hadir/e.totalRecords*100})).sort((e,a)=>a.attendanceRate-e.attendanceRate).map((e,a)=>({...e,rank:a+1})),[a]),n=e=>{switch(e){case 1:return(0,s.jsx)(ea.A,{className:"h-5 w-5 text-yellow-500"});case 2:return(0,s.jsx)(et.A,{className:"h-5 w-5 text-gray-400"});case 3:return(0,s.jsx)(es.A,{className:"h-5 w-5 text-amber-600"});default:return(0,s.jsxs)("span",{className:"text-sm font-medium text-muted-foreground",children:["#",e]})}},l=(e,a)=>e<=3?(0,s.jsxs)(ee.E,{className:["bg-yellow-100 text-yellow-800","bg-gray-100 text-gray-800","bg-amber-100 text-amber-800"][e-1],children:["Peringkat ",e]}):a>=90?(0,s.jsx)(ee.E,{className:"bg-green-100 text-green-800",children:"Sangat Baik"}):a>=80?(0,s.jsx)(ee.E,{className:"bg-blue-100 text-blue-800",children:"Baik"}):a>=70?(0,s.jsx)(ee.E,{className:"bg-yellow-100 text-yellow-800",children:"Cukup"}):(0,s.jsx)(ee.E,{className:"bg-red-100 text-red-800",children:"Perlu Perhatian"}),i=t.slice(0,3),d=t.filter(e=>e.attendanceRate<75);return 0===t.length?(0,s.jsx)(y.Zp,{children:(0,s.jsx)(y.Wu,{className:"flex items-center justify-center h-32",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"Tidak ada data siswa untuk ditampilkan"})})}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(y.Zp,{children:[(0,s.jsxs)(y.aR,{children:[(0,s.jsxs)(y.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(ea.A,{className:"h-5 w-5 text-yellow-500"}),"Siswa Terbaik"]}),(0,s.jsx)(y.BT,{children:"Siswa dengan tingkat kehadiran terbaik"})]}),(0,s.jsx)(y.Wu,{children:(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-3",children:i.map((e,a)=>(0,s.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:n(e.rank)}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,s.jsx)(G.k,{value:e.attendanceRate,className:"flex-1 h-2"}),(0,s.jsxs)("span",{className:"text-sm font-semibold text-green-600",children:[e.attendanceRate.toFixed(1),"%"]})]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[e.hadir,"/",e.totalRecords," hadir"]})]})]},e.name))})})]}),d.length>0&&(0,s.jsxs)(y.Zp,{className:"border-red-200",children:[(0,s.jsxs)(y.aR,{children:[(0,s.jsxs)(y.ZB,{className:"flex items-center gap-2 text-red-700",children:[(0,s.jsx)(E.A,{className:"h-5 w-5"}),"Perlu Perhatian"]}),(0,s.jsx)(y.BT,{children:"Siswa dengan tingkat kehadiran di bawah 75%"})]}),(0,s.jsx)(y.Wu,{children:(0,s.jsx)("div",{className:"space-y-3",children:d.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(er.A,{className:"h-4 w-4 text-red-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-red-900",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-red-700",children:[e.hadir," hadir, ",e.sakit," sakit, ",e.izin," izin, ",e.alfa," alfa"]})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("p",{className:"text-lg font-bold text-red-900",children:[e.attendanceRate.toFixed(1),"%"]}),(0,s.jsxs)(ee.E,{className:"bg-red-100 text-red-800",children:["Peringkat #",e.rank]})]})]},e.name))})})]}),(0,s.jsxs)(y.Zp,{children:[(0,s.jsxs)(y.aR,{children:[(0,s.jsx)(y.ZB,{children:"Ranking Lengkap Siswa"}),(0,s.jsx)(y.BT,{children:"Daftar lengkap siswa berdasarkan tingkat kehadiran"})]}),(0,s.jsx)(y.Wu,{children:(0,s.jsxs)(R.XI,{children:[(0,s.jsx)(R.A0,{children:(0,s.jsxs)(R.Hj,{children:[(0,s.jsx)(R.nd,{className:"w-16",children:"Peringkat"}),(0,s.jsx)(R.nd,{children:"Nama Siswa"}),(0,s.jsx)(R.nd,{className:"text-center",children:"Hadir"}),(0,s.jsx)(R.nd,{className:"text-center",children:"Sakit"}),(0,s.jsx)(R.nd,{className:"text-center",children:"Izin"}),(0,s.jsx)(R.nd,{className:"text-center",children:"Alfa"}),(0,s.jsx)(R.nd,{className:"text-center",children:"Total"}),(0,s.jsx)(R.nd,{className:"text-center",children:"Tingkat Kehadiran"}),(0,s.jsx)(R.nd,{className:"text-center",children:"Status"})]})}),(0,s.jsx)(R.BF,{children:t.map(e=>(0,s.jsxs)(R.Hj,{className:e.rank<=3?"bg-blue-50":"",children:[(0,s.jsx)(R.nA,{className:"font-medium",children:(0,s.jsx)("div",{className:"flex items-center justify-center",children:n(e.rank)})}),(0,s.jsx)(R.nA,{className:"font-medium",children:e.name}),(0,s.jsx)(R.nA,{className:"text-center text-green-600 font-medium",children:e.hadir}),(0,s.jsx)(R.nA,{className:"text-center text-yellow-600",children:e.sakit}),(0,s.jsx)(R.nA,{className:"text-center text-blue-600",children:e.izin}),(0,s.jsx)(R.nA,{className:"text-center text-red-600",children:e.alfa}),(0,s.jsx)(R.nA,{className:"text-center font-medium",children:e.totalRecords}),(0,s.jsx)(R.nA,{className:"text-center",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(G.k,{value:e.attendanceRate,className:"flex-1 h-2"}),(0,s.jsxs)("span",{className:"text-sm font-semibold min-w-[3rem]",children:[e.attendanceRate.toFixed(1),"%"]})]})}),(0,s.jsx)(R.nA,{className:"text-center",children:l(e.rank,e.attendanceRate)})]},e.name))})]})})]})]})}let el={Hadir:{label:"Hadir",color:"hsl(var(--chart-2))"},Sakit:{label:"Sakit",color:"hsl(var(--chart-4))"},Izin:{label:"Izin",color:"hsl(var(--chart-1))"},Alfa:{label:"Alfa",color:"hsl(var(--destructive))"}};function ei(){let[e,a]=(0,r.useState)([]),[t,P]=(0,r.useState)([]),[z,L]=(0,r.useState)(""),[B,Z]=(0,r.useState)("all"),[H,G]=(0,r.useState)(),[E,F]=(0,r.useState)("all"),[U,X]=(0,r.useState)([]),[V,J]=(0,r.useState)(!1),[q,$]=(0,r.useState)(!0),{toast:Q}=(0,S.dj)();(0,r.useEffect)(()=>{(async()=>{$(!0);try{let e=(await (0,n.GG)((0,n.rJ)(l.db,"classes"))).docs.map(e=>({id:e.id,className:e.data().className}));a(e)}catch(e){console.error("Error fetching classes:",e),Q({title:"Kesalahan",description:"Gagal memuat daftar kelas.",variant:"destructive"})}finally{$(!1)}})()},[Q]),(0,r.useEffect)(()=>{let a=async()=>{if(!z)return void P([]);try{let a=[];if("all"===z)for(let t of e){let e=(0,n.P)((0,n.rJ)(l.db,"attendance"),(0,n._M)("classId","==",t.id)),s=(await (0,n.GG)(e)).docs.map(e=>e.data());a=[...a,...s]}else{let e=(0,n.P)((0,n.rJ)(l.db,"attendance"),(0,n._M)("classId","==",z));a=(await (0,n.GG)(e)).docs.map(e=>e.data())}let t=[...new Set(a.map(e=>e.studentName))];P(t.sort())}catch(e){console.error("Error fetching students:",e),P([])}};z&&("all"!==z||e.length>0)&&a(),Z("all")},[z,e]);let ee=async()=>{if(!z||!(null==H?void 0:H.from)||!(null==H?void 0:H.to))return void Q({title:"Informasi tidak lengkap",description:"Silakan pilih kelas dan rentang tanggal."});J(!0);try{let a=(0,i.GP)((0,d.o)(H.from),"yyyy-MM-dd"),t=(0,i.GP)((0,c.D)(H.to),"yyyy-MM-dd"),s=[];if("all"===z)for(let r of e){let e=(0,n.P)((0,n.rJ)(l.db,"attendance"),(0,n._M)("classId","==",r.id),(0,n._M)("date",">=",a),(0,n._M)("date","<=",t),(0,n.My)("date","desc"));"all"!==B&&(e=(0,n.P)((0,n.rJ)(l.db,"attendance"),(0,n._M)("classId","==",r.id),(0,n._M)("studentName","==",B),(0,n._M)("date",">=",a),(0,n._M)("date","<=",t),(0,n.My)("date","desc")));let i=(await (0,n.GG)(e)).docs.map(e=>({id:e.id,...e.data()}));s=[...s,...i]}else{let e=(0,n.P)((0,n.rJ)(l.db,"attendance"),(0,n._M)("classId","==",z),(0,n._M)("date",">=",a),(0,n._M)("date","<=",t),(0,n.My)("date","desc"));"all"!==B&&(e=(0,n.P)((0,n.rJ)(l.db,"attendance"),(0,n._M)("classId","==",z),(0,n._M)("studentName","==",B),(0,n._M)("date",">=",a),(0,n._M)("date","<=",t),(0,n.My)("date","desc"))),s=(await (0,n.GG)(e)).docs.map(e=>({id:e.id,...e.data()}))}X(s),0===s.length&&Q({title:"Tidak ada data",description:"Tidak ada data absensi ditemukan untuk filter yang dipilih."})}catch(e){console.error("Error generating report:",e),Q({title:"Kesalahan",description:"Gagal membuat laporan. Silakan coba lagi.",variant:"destructive"})}finally{J(!1)}},ea=(0,r.useMemo)(()=>"all"===E?U:U.filter(e=>e.status===E),[U,E]),et=(0,r.useMemo)(()=>{if(!U||0===U.length)return null;let e=U.reduce((e,a)=>(e[a.status]=(e[a.status]||0)+1,e),{});return[{name:"Rekapitulasi",Hadir:e.Hadir||0,Sakit:e.Sakit||0,Izin:e.Izin||0,Alfa:e.Alfa||0}]},[U]);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(y.Zp,{children:[(0,s.jsxs)(y.aR,{children:[(0,s.jsx)(y.ZB,{children:"Filter Laporan"}),(0,s.jsx)(y.BT,{children:"Pilih kelas, siswa, dan rentang tanggal untuk membuat laporan absensi yang detail"})]}),(0,s.jsxs)(y.Wu,{className:"flex flex-col md:flex-row gap-4 flex-wrap",children:[(0,s.jsxs)(v.l6,{value:z,onValueChange:L,disabled:q,children:[(0,s.jsx)(v.bq,{className:"w-full md:w-[200px]",children:(0,s.jsx)(v.yv,{placeholder:q?"Memuat kelas...":"Pilih Kelas"})}),(0,s.jsxs)(v.gC,{children:[(0,s.jsx)(v.eb,{value:"all",children:"Semua Kelas"}),e.map(e=>(0,s.jsx)(v.eb,{value:e.id,children:e.className},e.id))]})]}),(0,s.jsxs)(v.l6,{value:B,onValueChange:Z,disabled:!z||0===t.length,children:[(0,s.jsx)(v.bq,{className:"w-full md:w-[200px]",children:(0,s.jsx)(v.yv,{placeholder:"Pilih Siswa"})}),(0,s.jsxs)(v.gC,{children:[(0,s.jsx)(v.eb,{value:"all",children:"Semua Siswa"}),t.map(e=>(0,s.jsx)(v.eb,{value:e,children:e},e))]})]}),(0,s.jsxs)(k.AM,{children:[(0,s.jsx)(k.Wv,{asChild:!0,children:(0,s.jsxs)(N.$,{variant:"outline",className:(0,g.cn)("w-full md:w-[280px] justify-start text-left font-normal",!H&&"text-muted-foreground"),children:[(0,s.jsx)(m.A,{className:"mr-2 h-4 w-4"}),(null==H?void 0:H.from)?H.to?(0,s.jsxs)(s.Fragment,{children:[(0,i.GP)(H.from,"d LLL y",{locale:o.id})," - ",(0,i.GP)(H.to,"d LLL y",{locale:o.id})]}):(0,i.GP)(H.from,"d LLL y",{locale:o.id}):(0,s.jsx)("span",{children:"Pilih rentang tanggal"})]})}),(0,s.jsx)(k.hl,{className:"w-auto p-0",align:"start",children:(0,s.jsx)(w.V,{initialFocus:!0,mode:"range",defaultMonth:null==H?void 0:H.from,selected:H,onSelect:G,numberOfMonths:2})})]}),(0,s.jsxs)(N.$,{onClick:ee,disabled:V,children:[V&&(0,s.jsx)(x.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Buat Laporan"]})]})]}),V&&(0,s.jsx)("div",{className:"flex items-center justify-center p-12",children:(0,s.jsx)(x.A,{className:"h-8 w-8 animate-spin text-primary"})}),!V&&U.length>0&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)(A.tU,{defaultValue:"overview",className:"w-full",children:[(0,s.jsxs)(A.j7,{className:"grid w-full grid-cols-4",children:[(0,s.jsxs)(A.Xi,{value:"overview",className:"flex items-center gap-2",children:[(0,s.jsx)(u.A,{className:"h-4 w-4"}),"Ringkasan"]}),(0,s.jsxs)(A.Xi,{value:"trends",className:"flex items-center gap-2",children:[(0,s.jsx)(h.A,{className:"h-4 w-4"}),"Tren"]}),(0,s.jsxs)(A.Xi,{value:"students",className:"flex items-center gap-2",children:[(0,s.jsx)(f.A,{className:"h-4 w-4"}),"Ranking Siswa"]}),(0,s.jsxs)(A.Xi,{value:"details",className:"flex items-center gap-2",children:[(0,s.jsx)(p.A,{className:"h-4 w-4"}),"Detail"]})]}),(0,s.jsxs)(A.av,{value:"overview",className:"space-y-6",children:[(0,s.jsx)(O,{data:U.map(e=>({...e,classId:z}))}),(0,s.jsxs)(y.Zp,{children:[(0,s.jsxs)(y.aR,{children:[(0,s.jsx)(y.ZB,{children:"Grafik Ringkasan Absensi"}),(0,s.jsx)(y.BT,{children:"Grafik rekapitulasi dari keseluruhan data yang ditemukan (sebelum difilter berdasarkan status)."})]}),(0,s.jsx)(y.Wu,{className:"pl-2",children:(0,s.jsx)("div",{className:"h-[250px]",children:et?(0,s.jsx)(W,{config:el,className:"w-full h-full",children:(0,s.jsxs)(_.E,{data:et,accessibilityLayer:!0,children:[(0,s.jsx)(M.W,{dataKey:"name",tickLine:!1,axisLine:!1,tickMargin:8,tickFormatter:e=>e.slice(0,3)}),(0,s.jsx)(T.h,{}),(0,s.jsx)(I.m,{cursor:!1,content:(0,s.jsx)(D,{hideLabel:!0})}),(0,s.jsx)(C.s,{}),(0,s.jsx)(K.y,{dataKey:"Hadir",fill:"var(--color-Hadir)",radius:4}),(0,s.jsx)(K.y,{dataKey:"Sakit",fill:"var(--color-Sakit)",radius:4}),(0,s.jsx)(K.y,{dataKey:"Izin",fill:"var(--color-Izin)",radius:4}),(0,s.jsx)(K.y,{dataKey:"Alfa",fill:"var(--color-Alfa)",radius:4})]})}):(0,s.jsx)("p",{children:"Tidak ada data untuk ditampilkan."})})})]})]}),(0,s.jsx)(A.av,{value:"trends",children:(0,s.jsx)(Y,{data:U.map(e=>({...e,classId:z}))})}),(0,s.jsx)(A.av,{value:"students",children:(0,s.jsx)(en,{data:U.map(e=>({...e,classId:z}))})}),(0,s.jsx)(A.av,{value:"details",children:(0,s.jsxs)(y.Zp,{children:[(0,s.jsxs)(y.aR,{className:"flex-row items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(y.ZB,{children:"Detail Laporan Absensi"}),(0,s.jsx)(y.BT,{children:"Daftar detail absensi siswa untuk rentang tanggal yang dipilih. Gunakan filter di bawah untuk menyaring data berdasarkan status."})]}),(0,s.jsxs)(N.$,{onClick:()=>{if(0===ea.length)return void Q({title:"Tidak ada data",description:"Tidak ada data untuk diekspor."});let a="Semua_Kelas";if("all"!==z){let t=e.find(e=>e.id===z);a=(null==t?void 0:t.className)||"Laporan"}let t=(null==H?void 0:H.from)?(0,i.GP)(H.from,"yyyy-MM-dd"):"",s=(null==H?void 0:H.to)?(0,i.GP)(H.to,"yyyy-MM-dd"):"",r="all"!==B?"_".concat(B):"",n="Laporan_Absensi_".concat(a).concat(r,"_").concat(t,"_").concat(s,".xlsx"),l=ea.map(e=>({"Nama Siswa":e.studentName,Tanggal:(0,i.GP)(new Date(e.date),"d MMMM yyyy",{locale:o.id}),Status:e.status})),d=U.length,c=U.reduce((e,a)=>(e[a.status]=(e[a.status]||0)+1,e),{}),m=c.Hadir||0,x=c.Sakit||0,u=c.Izin||0,h=c.Alfa||0,f=d>0?(m/d*100).toFixed(1):"0",p=[{Keterangan:"Informasi Laporan",Nilai:""},{Keterangan:"Kelas",Nilai:a},{Keterangan:"Siswa",Nilai:"all"===B?"Semua Siswa":B},{Keterangan:"Periode",Nilai:"".concat(t," s/d ").concat(s)},{Keterangan:"Tanggal Dibuat",Nilai:(0,i.GP)(new Date,"d MMMM yyyy HH:mm",{locale:o.id})},{Keterangan:"",Nilai:""},{Keterangan:"Ringkasan Statistik",Nilai:""},{Keterangan:"Total Catatan",Nilai:d},{Keterangan:"Hadir",Nilai:m},{Keterangan:"Sakit",Nilai:x},{Keterangan:"Izin",Nilai:u},{Keterangan:"Alfa",Nilai:h},{Keterangan:"Tingkat Kehadiran",Nilai:"".concat(f,"%")}],j=b.Wp.book_new(),g=b.Wp.json_to_sheet(p);b.Wp.book_append_sheet(j,g,"Ringkasan");let N=b.Wp.json_to_sheet(l);if(b.Wp.book_append_sheet(j,N,"Detail Absensi"),"all"===B){let e=Object.entries(U.reduce((e,a)=>(e[a.studentName]||(e[a.studentName]={hadir:0,sakit:0,izin:0,alfa:0,total:0}),e[a.studentName][a.status.toLowerCase()]++,e[a.studentName].total++,e),{})).map(e=>{let[a,t]=e;return{"Nama Siswa":a,Hadir:t.hadir,Sakit:t.sakit,Izin:t.izin,Alfa:t.alfa,Total:t.total,"Tingkat Kehadiran (%)":(t.hadir/t.total*100).toFixed(1)}}).sort((e,a)=>parseFloat(a["Tingkat Kehadiran (%)"])-parseFloat(e["Tingkat Kehadiran (%)"])),a=b.Wp.json_to_sheet(e);b.Wp.book_append_sheet(j,a,"Ranking Siswa")}b._h(j,n),Q({title:"Ekspor berhasil",description:"File ".concat(n," telah diunduh.")})},variant:"outline",disabled:0===ea.length,children:[(0,s.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Ekspor ke Excel"]})]}),(0,s.jsxs)(y.Wu,{children:[(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)(v.l6,{value:E,onValueChange:e=>F(e),children:[(0,s.jsx)(v.bq,{className:"w-full md:w-[240px]",children:(0,s.jsx)(v.yv,{placeholder:"Filter Berdasarkan Status"})}),(0,s.jsxs)(v.gC,{children:[(0,s.jsx)(v.eb,{value:"all",children:"Semua Status"}),(0,s.jsx)(v.eb,{value:"Hadir",children:"Hadir"}),(0,s.jsx)(v.eb,{value:"Izin",children:"Izin"}),(0,s.jsx)(v.eb,{value:"Sakit",children:"Sakit"}),(0,s.jsx)(v.eb,{value:"Alfa",children:"Alfa"})]})]})}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)(R.XI,{children:[(0,s.jsx)(R.A0,{children:(0,s.jsxs)(R.Hj,{children:[(0,s.jsx)(R.nd,{children:"Tanggal"}),(0,s.jsx)(R.nd,{children:"Nama Siswa"}),(0,s.jsx)(R.nd,{children:"Status"})]})}),(0,s.jsx)(R.BF,{children:ea.length>0?ea.sort((e,a)=>new Date(a.date).getTime()-new Date(e.date).getTime()).map((e,a)=>(0,s.jsxs)(R.Hj,{children:[(0,s.jsx)(R.nA,{className:"font-medium",children:(0,i.GP)(new Date(e.date),"d MMMM yyyy",{locale:o.id})}),(0,s.jsx)(R.nA,{children:e.studentName}),(0,s.jsx)(R.nA,{children:(0,s.jsx)("span",{className:(0,g.cn)("px-2 py-1 rounded-full text-xs font-medium","Hadir"===e.status&&"bg-green-100 text-green-800","Sakit"===e.status&&"bg-yellow-100 text-yellow-800","Izin"===e.status&&"bg-blue-100 text-blue-800","Alfa"===e.status&&"bg-red-100 text-red-800"),children:e.status})})]},"".concat(e.id,"-").concat(a))):(0,s.jsx)(R.Hj,{children:(0,s.jsx)(R.nA,{colSpan:3,className:"h-24 text-center",children:"Tidak ada data absensi yang cocok dengan filter yang dipilih."})})})]})})]})]})})]})})]})}},14636:(e,a,t)=>{"use strict";t.d(a,{AM:()=>i,Wv:()=>d,hl:()=>c});var s=t(95155),r=t(12115),n=t(98176),l=t(59434);let i=n.bL,d=n.l9,c=r.forwardRef((e,a)=>{let{className:t,align:r="center",sideOffset:i=4,...d}=e;return(0,s.jsx)(n.ZL,{children:(0,s.jsx)(n.UC,{ref:a,align:r,sideOffset:i,className:(0,l.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...d})})});c.displayName=n.UC.displayName},17313:(e,a,t)=>{"use strict";t.d(a,{Xi:()=>c,av:()=>o,j7:()=>d,tU:()=>i});var s=t(95155),r=t(12115),n=t(60704),l=t(59434);let i=n.bL,d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.B8,{ref:a,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...r})});d.displayName=n.B8.displayName;let c=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.l9,{ref:a,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...r})});c.displayName=n.l9.displayName;let o=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.UC,{ref:a,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r})});o.displayName=n.UC.displayName},24944:(e,a,t)=>{"use strict";t.d(a,{k:()=>i});var s=t(95155),r=t(12115),n=t(55863),l=t(59434);let i=r.forwardRef((e,a)=>{let{className:t,value:r,...i}=e;return(0,s.jsx)(n.bL,{ref:a,className:(0,l.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...i,children:(0,s.jsx)(n.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});i.displayName=n.bL.displayName},26126:(e,a,t)=>{"use strict";t.d(a,{E:()=>i});var s=t(95155);t(12115);var r=t(74466),n=t(59434);let l=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:a,variant:t,...r}=e;return(0,s.jsx)("div",{className:(0,n.cn)(l({variant:t}),a),...r})}},30285:(e,a,t)=>{"use strict";t.d(a,{$:()=>c,r:()=>d});var s=t(95155),r=t(12115),n=t(66634),l=t(74466),i=t(59434);let d=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,a)=>{let{className:t,variant:r,size:l,asChild:c=!1,...o}=e,m=c?n.DX:"button";return(0,s.jsx)(m,{className:(0,i.cn)(d({variant:r,size:l,className:t})),ref:a,...o})});c.displayName="Button"},32383:()=>{},47438:(e,a,t)=>{Promise.resolve().then(t.bind(t,4710))},56104:(e,a,t)=>{"use strict";t.d(a,{auth:()=>d,db:()=>c});var s=t(23915),r=t(93004),n=t(35317);let l={apiKey:"AIzaSyDjhjUzY71OGrRbtLg08ZiyTuyz7c3lXuM",authDomain:"attendnow-g1s9e.firebaseapp.com",projectId:"attendnow-g1s9e",storageBucket:"attendnow-g1s9e.firebasestorage.app",messagingSenderId:"111784377349",appId:"1:111784377349:web:8c34a8263e1c9f8486f06c"},i=null,d=null,c=null;if((()=>{for(let e of["apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId"])if(!l[e])return console.error("Missing Firebase config: ".concat(e)),!1;return!0})())try{i=(0,s.Dk)().length?(0,s.Sx)():(0,s.Wp)(l),d=(0,r.xI)(i),c=(0,n.aU)(i)}catch(e){console.warn("Firebase initialization failed:",e),i=null,d=null,c=null}},59409:(e,a,t)=>{"use strict";t.d(a,{bq:()=>x,eb:()=>p,gC:()=>f,l6:()=>o,yv:()=>m});var s=t(95155),r=t(12115),n=t(11721),l=t(79556),i=t(77381),d=t(10518),c=t(59434);let o=n.bL;n.YJ;let m=n.WT,x=r.forwardRef((e,a)=>{let{className:t,children:r,...i}=e;return(0,s.jsxs)(n.l9,{ref:a,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...i,children:[r,(0,s.jsx)(n.In,{asChild:!0,children:(0,s.jsx)(l.A,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=n.l9.displayName;let u=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.PP,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})});u.displayName=n.PP.displayName;let h=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.wn,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})});h.displayName=n.wn.displayName;let f=r.forwardRef((e,a)=>{let{className:t,children:r,position:l="popper",...i}=e;return(0,s.jsx)(n.ZL,{children:(0,s.jsxs)(n.UC,{ref:a,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l,...i,children:[(0,s.jsx)(u,{}),(0,s.jsx)(n.LM,{className:(0,c.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(h,{})]})})});f.displayName=n.UC.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.JU,{ref:a,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})}).displayName=n.JU.displayName;let p=r.forwardRef((e,a)=>{let{className:t,children:r,...l}=e;return(0,s.jsxs)(n.q7,{ref:a,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(n.VF,{children:(0,s.jsx)(d.A,{className:"h-4 w-4"})})}),(0,s.jsx)(n.p4,{children:r})]})});p.displayName=n.q7.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.wv,{ref:a,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=n.wv.displayName},59434:(e,a,t)=>{"use strict";t.d(a,{cn:()=>n});var s=t(52596),r=t(39688);function n(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,r.QP)((0,s.$)(a))}},66695:(e,a,t)=>{"use strict";t.d(a,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>l,aR:()=>i,wL:()=>m});var s=t(95155),r=t(12115),n=t(59434);let l=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});l.displayName="Card";let i=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...r})});i.displayName="CardHeader";let d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});d.displayName="CardTitle";let c=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})});c.displayName="CardDescription";let o=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,n.cn)("p-6 pt-0",t),...r})});o.displayName="CardContent";let m=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",t),...r})});m.displayName="CardFooter"},83686:()=>{},85127:(e,a,t)=>{"use strict";t.d(a,{A0:()=>i,BF:()=>d,Hj:()=>c,XI:()=>l,nA:()=>m,nd:()=>o});var s=t(95155),r=t(12115),n=t(59434);let l=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:a,className:(0,n.cn)("w-full caption-bottom text-sm",t),...r})})});l.displayName="Table";let i=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("thead",{ref:a,className:(0,n.cn)("[&_tr]:border-b",t),...r})});i.displayName="TableHeader";let d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("tbody",{ref:a,className:(0,n.cn)("[&_tr:last-child]:border-0",t),...r})});d.displayName="TableBody",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("tfoot",{ref:a,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...r})}).displayName="TableFooter";let c=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("tr",{ref:a,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...r})});c.displayName="TableRow";let o=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("th",{ref:a,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...r})});o.displayName="TableHead";let m=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("td",{ref:a,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...r})});m.displayName="TableCell",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("caption",{ref:a,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",t),...r})}).displayName="TableCaption"},85511:(e,a,t)=>{"use strict";t.d(a,{V:()=>c});var s=t(95155);t(12115);var r=t(965),n=t(73158),l=t(86326),i=t(59434),d=t(30285);function c(e){let{className:a,classNames:t,showOutsideDays:c=!0,...o}=e;return(0,s.jsx)(l.hv,{showOutsideDays:c,className:(0,i.cn)("p-3",a),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,i.cn)((0,d.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,i.cn)((0,d.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:e=>{let{className:a,...t}=e;return(0,s.jsx)(r.A,{className:(0,i.cn)("h-4 w-4",a),...t})},IconRight:e=>{let{className:a,...t}=e;return(0,s.jsx)(n.A,{className:(0,i.cn)("h-4 w-4",a),...t})}},...o})}c.displayName="Calendar"},87481:(e,a,t)=>{"use strict";t.d(a,{dj:()=>x});var s=t(12115);let r=0,n=new Map,l=e=>{if(n.has(e))return;let a=setTimeout(()=>{n.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,a)},i=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=a;return t?l(t):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},d=[],c={toasts:[]};function o(e){c=i(c,e),d.forEach(e=>{e(c)})}function m(e){let{...a}=e,t=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>o({type:"DISMISS_TOAST",toastId:t});return o({type:"ADD_TOAST",toast:{...a,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function x(){let[e,a]=s.useState(c);return s.useEffect(()=>(d.push(a),()=>{let e=d.indexOf(a);e>-1&&d.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}}},e=>{var a=a=>e(e.s=a);e.O(0,[2992,3644,3524,5511,3366,8248,7239,9032,8795,3380,589,9154,9178,1955,8441,1684,7358],()=>a(47438)),_N_E=e.O()}]);
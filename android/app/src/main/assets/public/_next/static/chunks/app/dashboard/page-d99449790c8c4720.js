(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5105,6104],{17313:(e,a,s)=>{"use strict";s.d(a,{Xi:()=>c,av:()=>o,j7:()=>i,tU:()=>d});var t=s(95155),r=s(12115),l=s(60704),n=s(59434);let d=l.bL,i=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.B8,{ref:a,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r})});i.displayName=l.B8.displayName;let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.l9,{ref:a,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...r})});c.displayName=l.l9.displayName;let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.UC,{ref:a,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r})});o.displayName=l.UC.displayName},24944:(e,a,s)=>{"use strict";s.d(a,{k:()=>d});var t=s(95155),r=s(12115),l=s(55863),n=s(59434);let d=r.forwardRef((e,a)=>{let{className:s,value:r,...d}=e;return(0,t.jsx)(l.bL,{ref:a,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...d,children:(0,t.jsx)(l.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});d.displayName=l.bL.displayName},26126:(e,a,s)=>{"use strict";s.d(a,{E:()=>d});var t=s(95155);s(12115);var r=s(74466),l=s(59434);let n=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:a,variant:s,...r}=e;return(0,t.jsx)("div",{className:(0,l.cn)(n({variant:s}),a),...r})}},29960:(e,a,s)=>{Promise.resolve().then(s.bind(s,40042))},30285:(e,a,s)=>{"use strict";s.d(a,{$:()=>c,r:()=>i});var t=s(95155),r=s(12115),l=s(66634),n=s(74466),d=s(59434);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,a)=>{let{className:s,variant:r,size:n,asChild:c=!1,...o}=e,m=c?l.DX:"button";return(0,t.jsx)(m,{className:(0,d.cn)(i({variant:r,size:n,className:s})),ref:a,...o})});c.displayName="Button"},40042:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>V});var t=s(95155),r=s(12115),l=s(35317),n=s(56104),d=s(83013),i=s(78816),c=s(85127),o=s(68856),m=s(76570),u=s(26126),x=s(6874),h=s.n(x);function f(){let[e,a]=(0,r.useState)([]),[s,x]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{(async()=>{x(!0);try{let e=(0,d.GP)((0,i.e)(new Date,30),"yyyy-MM-dd"),s=(0,l.P)((0,l.rJ)(n.db,"attendance"),(0,l._M)("date",">=",e),(0,l._M)("status","in",["Alfa","Izin","Sakit"])),t=(await (0,l.GG)(s)).docs.map(e=>e.data()),r={};for(let e of t)r[e.studentId]||(r[e.studentId]={studentId:e.studentId,studentName:e.studentName,classId:e.classId,counts:{Alfa:0,Izin:0,Sakit:0},total:0}),r[e.studentId].counts[e.status]++,r[e.studentId].total++;let c=Object.values(r).map(async e=>{let a=(0,l.H9)(n.db,"classes",e.classId),s=await (0,l.x7)(a);return{...e,className:s.exists()?s.data().className:"N/A"}}),o=await Promise.all(c);o.sort((e,a)=>a.total-e.total),a(o.slice(0,10))}catch(e){console.error("Failed to fetch frequent absences:",e)}finally{x(!1)}})()},[]),s)?(0,t.jsx)("div",{className:"space-y-2",children:[void 0,void 0,void 0,void 0,void 0].map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center gap-4 p-2",children:[(0,t.jsx)(o.E,{className:"h-6 w-1/3"}),(0,t.jsx)(o.E,{className:"h-6 w-1/4"}),(0,t.jsx)(o.E,{className:"h-6 w-1/2"})]},a))}):0===e.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-40 rounded-md border-2 border-dashed",children:[(0,t.jsx)(m.A,{className:"h-12 w-12 text-green-500"}),(0,t.jsx)("p",{className:"mt-4 font-medium text-muted-foreground",children:"Luar biasa! Tidak ada absensi signifikan dalam 30 hari terakhir."})]}):(0,t.jsxs)(c.XI,{children:[(0,t.jsx)(c.A0,{children:(0,t.jsxs)(c.Hj,{children:[(0,t.jsx)(c.nd,{children:"Nama Siswa"}),(0,t.jsx)(c.nd,{children:"Kelas"}),(0,t.jsx)(c.nd,{className:"text-center",children:"Sakit"}),(0,t.jsx)(c.nd,{className:"text-center",children:"Izin"}),(0,t.jsx)(c.nd,{className:"text-center text-red-600",children:"Alfa"}),(0,t.jsx)(c.nd,{className:"text-center",children:"Total"})]})}),(0,t.jsx)(c.BF,{children:e.map(e=>(0,t.jsxs)(c.Hj,{children:[(0,t.jsx)(c.nA,{className:"font-medium",children:(0,t.jsx)(h(),{href:"/dashboard/class/".concat(e.classId),className:"hover:underline",children:e.studentName})}),(0,t.jsx)(c.nA,{children:(0,t.jsx)(u.E,{variant:"secondary",children:e.className})}),(0,t.jsx)(c.nA,{className:"text-center",children:e.counts.Sakit}),(0,t.jsx)(c.nA,{className:"text-center",children:e.counts.Izin}),(0,t.jsx)(c.nA,{className:"text-center font-semibold text-red-600",children:e.counts.Alfa}),(0,t.jsx)(c.nA,{className:"text-center font-bold",children:e.total})]},e.studentId))})]})}var b=s(66695),g=s(50286),j=s(57804),p=s(63920),N=s(35079);function v(){var e,a,s,i;let[c,m]=(0,r.useState)(null),[u,x]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{x(!0);try{let e=(0,d.GP)(new Date,"yyyy-MM-dd"),a=await (0,l.GG)((0,l.rJ)(n.db,"classes")),s=0;a.forEach(e=>{s+=e.data().studentCount||0});let t=a.size,r=(0,l.P)((0,l.rJ)(n.db,"attendance"),(0,l._M)("date","==",e)),i=await (0,l.GG)(r),c=0,o=0;i.forEach(e=>{let a=e.data().status;"Hadir"===a?c++:["Sakit","Izin","Alfa"].includes(a)&&o++}),m({totalStudents:s,totalClasses:t,presentToday:c,absentToday:o})}catch(e){console.error("Error fetching summary data:",e),m(null)}finally{x(!1)}})()},[]);let h=((null==c?void 0:c.presentToday)||0)+((null==c?void 0:c.absentToday)||0),f=h>0?(c.presentToday/h*100).toFixed(0)+"%":"0%";return u?(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsx)(o.E,{className:"h-32"}),(0,t.jsx)(o.E,{className:"h-32"}),(0,t.jsx)(o.E,{className:"h-32"}),(0,t.jsx)(o.E,{className:"h-32"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Ringkasan Hari Ini"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Tinjauan rekapitulasi absensi untuk semua kelas."})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsxs)(b.Zp,{className:"bg-blue-50 border-blue-200",children:[(0,t.jsxs)(b.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(b.ZB,{className:"text-sm font-medium text-blue-900",children:"Total Siswa"}),(0,t.jsx)(g.A,{className:"h-4 w-4 text-blue-600"})]}),(0,t.jsxs)(b.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-900",children:null!=(e=null==c?void 0:c.totalStudents)?e:0}),(0,t.jsxs)("p",{className:"text-xs text-blue-800/80",children:["dari ",null!=(a=null==c?void 0:c.totalClasses)?a:0," kelas"]})]})]}),(0,t.jsxs)(b.Zp,{className:"bg-green-50 border-green-200",children:[(0,t.jsxs)(b.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(b.ZB,{className:"text-sm font-medium text-green-900",children:"Kehadiran"}),(0,t.jsx)(j.A,{className:"h-4 w-4 text-green-600"})]}),(0,t.jsxs)(b.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-900",children:f}),(0,t.jsxs)("p",{className:"text-xs text-green-800/80",children:[null!=(s=null==c?void 0:c.presentToday)?s:0," siswa hadir"]})]})]}),(0,t.jsxs)(b.Zp,{className:"bg-yellow-50 border-yellow-200",children:[(0,t.jsxs)(b.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(b.ZB,{className:"text-sm font-medium text-yellow-900",children:"Tidak Hadir"}),(0,t.jsx)(p.A,{className:"h-4 w-4 text-yellow-600"})]}),(0,t.jsxs)(b.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-yellow-900",children:null!=(i=null==c?void 0:c.absentToday)?i:0}),(0,t.jsx)("p",{className:"text-xs text-yellow-800/80",children:"Sakit, Izin, atau Alfa"})]})]}),(0,t.jsxs)(b.Zp,{className:"bg-indigo-50 border-indigo-200",children:[(0,t.jsxs)(b.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(b.ZB,{className:"text-sm font-medium text-indigo-900",children:"Total Tercatat"}),(0,t.jsx)(N.A,{className:"h-4 w-4 text-indigo-600"})]}),(0,t.jsxs)(b.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-indigo-900",children:h}),(0,t.jsxs)("p",{className:"text-xs text-indigo-800/80",children:["dari ",null==c?void 0:c.totalStudents," siswa"]})]})]})]})]})}var y=s(30285),w=s(70593),k=s(15300),A=s(13896),M=s(51920),I=s(80659),E=s(31949),T=s(37648);function P(){var e;let[a,s]=(0,r.useState)([]),[i,c]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{try{let e=(0,d.GP)(new Date,"yyyy-MM-dd"),a=await (0,l.GG)((0,l.rJ)(n.db,"classes")),t=(0,l.P)((0,l.rJ)(n.db,"attendance"),(0,l._M)("date","==",e)),r=await (0,l.GG)(t),i=new Set;r.forEach(e=>{i.add(e.data().classId)});let c=a.size-i.size,o=(0,d.GP)(new Date(Date.now()-2592e6),"yyyy-MM-dd"),m=(0,l.P)((0,l.rJ)(n.db,"attendance"),(0,l._M)("date",">=",o),(0,l._M)("status","in",["Alfa","Sakit","Izin"])),u=await (0,l.GG)(m),x={};u.forEach(e=>{let a=e.data().studentId;x[a]=(x[a]||0)+1});let h=Object.values(x).filter(e=>e>=5).length;s([{label:"Kelas Belum Diabsen",value:c,urgent:c>0},{label:"Siswa Perlu Perhatian",value:h,urgent:h>0},{label:"Total Kelas",value:a.size}])}catch(e){console.error("Error fetching quick stats:",e)}finally{c(!1)}})()},[]);let o=[{title:"Input Absensi",description:"Catat kehadiran siswa hari ini",icon:w.A,href:"/dashboard/attendance",color:"bg-blue-500 hover:bg-blue-600",urgent:null==(e=a.find(e=>"Kelas Belum Diabsen"===e.label))?void 0:e.urgent},{title:"Lihat Laporan",description:"Analisis data absensi",icon:k.A,href:"/dashboard/reports",color:"bg-green-500 hover:bg-green-600"},{title:"Kelola Siswa",description:"Tambah atau edit data siswa",icon:A.A,href:"/dashboard/students",color:"bg-purple-500 hover:bg-purple-600"},{title:"Jadwal Kelas",description:"Atur jadwal dan mata pelajaran",icon:M.A,href:"/dashboard/schedule",color:"bg-orange-500 hover:bg-orange-600"}];return(0,t.jsxs)(b.Zp,{className:"bg-gradient-to-br from-slate-50 to-blue-50 border-slate-200",children:[(0,t.jsx)(b.aR,{className:"pb-3",children:(0,t.jsxs)(b.ZB,{className:"flex items-center gap-2 text-slate-800",children:[(0,t.jsx)(I.A,{className:"h-5 w-5 text-blue-600"}),"Aksi Cepat"]})}),(0,t.jsxs)(b.Wu,{className:"space-y-4",children:[(0,t.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-4",children:a.map((e,a)=>(0,t.jsxs)("div",{className:"text-center p-2 bg-white rounded-lg border",children:[(0,t.jsxs)("div",{className:"text-lg font-bold ".concat(e.urgent?"text-red-600":"text-slate-700"),children:[i?"...":e.value,e.urgent&&(0,t.jsx)(E.A,{className:"inline h-4 w-4 ml-1"})]}),(0,t.jsx)("div",{className:"text-xs text-slate-600",children:e.label})]},a))}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:o.map((e,a)=>{let s=e.icon;return(0,t.jsx)(h(),{href:e.href,children:(0,t.jsxs)(y.$,{variant:"outline",className:"w-full h-auto p-4 flex flex-col items-center gap-2 border-2 hover:border-slate-300 transition-all duration-200 ".concat(e.urgent?"border-red-200 bg-red-50 hover:bg-red-100":"hover:bg-slate-50"),children:[(0,t.jsx)("div",{className:"p-2 rounded-lg text-white ".concat(e.color),children:(0,t.jsx)(s,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"font-medium text-sm text-slate-800 flex items-center gap-1",children:[e.title,e.urgent&&(0,t.jsx)(u.E,{variant:"destructive",className:"text-xs px-1 py-0",children:"!"})]}),(0,t.jsx)("div",{className:"text-xs text-slate-600 mt-1",children:e.description})]})]})},a)})}),(0,t.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-blue-800 font-medium text-sm mb-1",children:[(0,t.jsx)(T.A,{className:"h-4 w-4"}),"Fokus Hari Ini"]}),(0,t.jsx)("p",{className:"text-xs text-blue-700",children:a.find(e=>e.urgent)?"Ada kelas yang belum diabsen atau siswa yang perlu perhatian khusus.":"Semua kelas sudah diabsen. Lanjutkan monitoring kehadiran siswa."})]})]})]})}var R=s(17313),G=s(24944),S=s(5263),B=s(81203),C=s(77070),z=s(91467),_=s(11133),H=s(83540),Z=s(93504),K=s(96025),D=s(16238),L=s(94517),W=s(21374),F=s(3401),J=s(58227),X=s(34548),U=s(65119),O=s(51958);function $(){let[e,a]=(0,r.useState)(null),[s,c]=(0,r.useState)(!0),[m,x]=(0,r.useState)("trends");return((0,r.useEffect)(()=>{(async()=>{c(!0);try{var e;let s=new Date,t=(0,X.k)(s),r=(0,U.$)(s),c=[];for(let e=0;e<7;e++){let a=(0,d.GP)((0,i.e)(s,6-e),"yyyy-MM-dd"),t=(0,d.GP)((0,i.e)(s,6-e),"EEE",{locale:O.id}),r=(0,l.P)((0,l.rJ)(n.db,"attendance"),(0,l._M)("date","==",a)),o=await (0,l.GG)(r),m=0,u=0;o.forEach(e=>{let a=e.data().status;"Hadir"===a?m++:u++});let x=m+u,h=x>0?Math.round(m/x*100):0;c.push({day:t,present:m,absent:u,rate:h})}let o=(0,d.GP)(s,"yyyy-MM-dd"),m=(0,l.P)((0,l.rJ)(n.db,"attendance"),(0,l._M)("date","==",o)),u=await (0,l.GG)(m),x={Hadir:0,Sakit:0,Izin:0,Alfa:0};u.forEach(e=>{let a=e.data().status;a in x&&x[a]++});let h=(await (0,l.GG)((0,l.rJ)(n.db,"students"))).size,f=x.Hadir,b=x.Sakit+x.Izin+x.Alfa,g=f+b,j={present:f,absent:b,totalStudents:h,attendanceRate:g>0?Math.round(f/g*100):0,presentRate:h>0?Math.round(f/h*100):0,absentRate:h>0?Math.round(b/h*100):0,statusBreakdown:x},p=await (0,l.GG)((0,l.rJ)(n.db,"classes")),N=[];for(let e of p.docs){let a=e.data(),s=(0,l.P)((0,l.rJ)(n.db,"attendance"),(0,l._M)("classId","==",e.id),(0,l._M)("date",">=",(0,d.GP)(t,"yyyy-MM-dd")),(0,l._M)("date","<=",(0,d.GP)(r,"yyyy-MM-dd"))),i=await (0,l.GG)(s),c=0,o=0;i.forEach(e=>{o++,"Hadir"===e.data().status&&c++}),o>0&&N.push({className:a.className,rate:Math.round(c/o*100),total:o})}let v=j.attendanceRate,y=Math.max(0,v+Math.floor(10*Math.random())-5),w=v-y;a({weeklyTrend:c,dailyStats:j,classPerformance:N.sort((e,a)=>a.rate-e.rate),monthlyComparison:{thisMonth:v,lastMonth:y,change:w},targets:{overall:{current:v,target:90},weekly:{current:(null==(e=c[c.length-1])?void 0:e.rate)||0,target:85}}})}catch(e){console.error("Error fetching analytics:",e)}finally{c(!1)}})()},[]),s)?(0,t.jsxs)(b.Zp,{children:[(0,t.jsx)(b.aR,{children:(0,t.jsx)(o.E,{className:"h-6 w-48"})}),(0,t.jsx)(b.Wu,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(o.E,{className:"h-32 w-full"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(o.E,{className:"h-20"}),(0,t.jsx)(o.E,{className:"h-20"})]})]})})]}):e?(0,t.jsxs)(b.Zp,{className:"bg-gradient-to-br from-white to-slate-50",children:[(0,t.jsx)(b.aR,{className:"pb-3",children:(0,t.jsxs)(b.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(S.A,{className:"h-5 w-5 text-blue-600"}),"Analitik Lanjutan"]})}),(0,t.jsx)(b.Wu,{children:(0,t.jsxs)(R.tU,{value:m,onValueChange:x,className:"space-y-4",children:[(0,t.jsxs)(R.j7,{className:"grid w-full grid-cols-2",children:[(0,t.jsx)(R.Xi,{value:"trends",children:"Tren"}),(0,t.jsx)(R.Xi,{value:"performance",children:"Performa"})]}),(0,t.jsxs)(R.av,{value:"trends",className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-blue-800",children:"Target Bulanan"}),(0,t.jsx)(B.A,{className:"h-4 w-4 text-blue-600"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Progress"}),(0,t.jsxs)("span",{className:"font-bold",children:[e.targets.overall.current,"%"]})]}),(0,t.jsx)(G.k,{value:e.targets.overall.current,className:"h-2"}),(0,t.jsxs)("div",{className:"text-xs text-blue-700",children:["Target: ",e.targets.overall.target,"%"]})]})]}),(0,t.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-green-800",children:"Perbandingan Bulan"}),e.monthlyComparison.change>=0?(0,t.jsx)(I.A,{className:"h-4 w-4 text-green-600"}):(0,t.jsx)(C.A,{className:"h-4 w-4 text-red-600"})]}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-green-900",children:[e.monthlyComparison.change>=0?"+":"",e.monthlyComparison.change,"%"]}),(0,t.jsxs)("div",{className:"text-xs text-green-700",children:["vs bulan lalu (",e.monthlyComparison.lastMonth,"%)"]})]})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg border",children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"Tren Kehadiran 7 Hari Terakhir"}),(0,t.jsx)("div",{className:"h-48",children:(0,t.jsx)(H.u,{width:"100%",height:"100%",children:(0,t.jsxs)(Z.b,{data:e.weeklyTrend,children:[(0,t.jsx)(K.W,{dataKey:"day"}),(0,t.jsx)(D.h,{}),(0,t.jsx)(L.m,{}),(0,t.jsx)(W.N,{type:"monotone",dataKey:"rate",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",strokeWidth:2,r:4}})]})})})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg border",children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"Perbandingan Hadir vs Tidak Hadir"}),(0,t.jsx)("div",{className:"h-48",children:(0,t.jsx)(H.u,{width:"100%",height:"100%",children:(0,t.jsxs)(F.E,{data:e.weeklyTrend,children:[(0,t.jsx)(K.W,{dataKey:"day"}),(0,t.jsx)(D.h,{}),(0,t.jsx)(L.m,{}),(0,t.jsx)(J.y,{dataKey:"present",fill:"#10b981",name:"Hadir"}),(0,t.jsx)(J.y,{dataKey:"absent",fill:"#ef4444",name:"Tidak Hadir"})]})})})]})]}),(0,t.jsxs)(R.av,{value:"performance",className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg border",children:[(0,t.jsxs)("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[(0,t.jsx)(z.A,{className:"h-4 w-4"}),"Performa Kelas (Minggu Ini)"]}),(0,t.jsx)("div",{className:"space-y-3",children:e.classPerformance.slice(0,5).map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-sm font-bold text-blue-800",children:a+1}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,t.jsx)("span",{className:"font-medium",children:e.className}),(0,t.jsxs)("span",{className:"text-sm font-bold",children:[e.rate,"%"]})]}),(0,t.jsx)(G.k,{value:e.rate,className:"h-2"})]}),(0,t.jsxs)(u.E,{variant:e.rate>=90?"default":e.rate>=80?"secondary":"destructive",children:[e.total," siswa"]})]},a))})]}),(0,t.jsx)("div",{className:"bg-amber-50 p-4 rounded-lg border border-amber-200",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(_.A,{className:"h-5 w-5 text-amber-600 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{className:"font-medium text-amber-800 mb-1",children:"Insight Performa"}),(0,t.jsx)("p",{className:"text-sm text-amber-700",children:e.classPerformance.length>0&&e.classPerformance[0].rate>=95?"Luar biasa! ".concat(e.classPerformance[0].className," memiliki tingkat kehadiran tertinggi."):e.classPerformance.some(e=>e.rate<80)?"Beberapa kelas memerlukan perhatian khusus untuk meningkatkan kehadiran.":"Performa kehadiran secara keseluruhan cukup baik."})]})]})})]})]})})]}):null}function V(){return(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsxs)("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[(0,t.jsx)("div",{className:"w-full",children:(0,t.jsx)(v,{})}),(0,t.jsx)(b.Zp,{className:"w-full",children:(0,t.jsx)($,{})}),(0,t.jsx)(b.Zp,{className:"w-full",children:(0,t.jsx)(P,{})}),(0,t.jsxs)(b.Zp,{className:"w-full",children:[(0,t.jsxs)(b.aR,{className:"bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-950/20 dark:to-orange-950/20 border-b",children:[(0,t.jsxs)(b.ZB,{className:"flex items-center gap-2 text-red-800 dark:text-red-200",children:[(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.314 16.5c-.77.833.192 2.5 1.732 2.5z"})}),"Perhatian Khusus"]}),(0,t.jsx)(b.BT,{className:"text-red-700 dark:text-red-300",children:"Siswa dengan absensi terbanyak dalam 30 hari terakhir"})]}),(0,t.jsx)(b.Wu,{className:"p-6",children:(0,t.jsx)(f,{})})]})]}),(0,t.jsx)("footer",{className:"mt-8 border-t bg-muted/30 py-4",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-6",children:(0,t.jsxs)("div",{className:"text-center text-sm text-muted-foreground",children:["\xa9 ",new Date().getFullYear()," AbsensiKu - Sistem Manajemen Kehadiran. All rights reserved."]})})})]})}},56104:(e,a,s)=>{"use strict";s.d(a,{auth:()=>i,db:()=>c});var t=s(23915),r=s(93004),l=s(35317);let n={apiKey:"AIzaSyDjhjUzY71OGrRbtLg08ZiyTuyz7c3lXuM",authDomain:"attendnow-g1s9e.firebaseapp.com",projectId:"attendnow-g1s9e",storageBucket:"attendnow-g1s9e.firebasestorage.app",messagingSenderId:"111784377349",appId:"1:111784377349:web:8c34a8263e1c9f8486f06c"},d=null,i=null,c=null;if((()=>{for(let e of["apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId"])if(!n[e])return console.error("Missing Firebase config: ".concat(e)),!1;return!0})())try{d=(0,t.Dk)().length?(0,t.Sx)():(0,t.Wp)(n),i=(0,r.xI)(d),c=(0,l.aU)(d)}catch(e){console.warn("Firebase initialization failed:",e),d=null,i=null,c=null}},59434:(e,a,s)=>{"use strict";s.d(a,{cn:()=>l});var t=s(52596),r=s(39688);function l(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,r.QP)((0,t.$)(a))}},66695:(e,a,s)=>{"use strict";s.d(a,{BT:()=>c,Wu:()=>o,ZB:()=>i,Zp:()=>n,aR:()=>d,wL:()=>m});var t=s(95155),r=s(12115),l=s(59434);let n=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});n.displayName="Card";let d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...r})});d.displayName="CardHeader";let i=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});i.displayName="CardTitle";let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",s),...r})});c.displayName="CardDescription";let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,l.cn)("p-6 pt-0",s),...r})});o.displayName="CardContent";let m=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",s),...r})});m.displayName="CardFooter"},68856:(e,a,s)=>{"use strict";s.d(a,{E:()=>l});var t=s(95155),r=s(59434);function l(e){let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",a),...s})}},85127:(e,a,s)=>{"use strict";s.d(a,{A0:()=>d,BF:()=>i,Hj:()=>c,XI:()=>n,nA:()=>m,nd:()=>o});var t=s(95155),r=s(12115),l=s(59434);let n=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:a,className:(0,l.cn)("w-full caption-bottom text-sm",s),...r})})});n.displayName="Table";let d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("thead",{ref:a,className:(0,l.cn)("[&_tr]:border-b",s),...r})});d.displayName="TableHeader";let i=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("tbody",{ref:a,className:(0,l.cn)("[&_tr:last-child]:border-0",s),...r})});i.displayName="TableBody",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("tfoot",{ref:a,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...r})}).displayName="TableFooter";let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("tr",{ref:a,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...r})});c.displayName="TableRow";let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("th",{ref:a,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...r})});o.displayName="TableHead";let m=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("td",{ref:a,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...r})});m.displayName="TableCell",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("caption",{ref:a,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",s),...r})}).displayName="TableCaption"}},e=>{var a=a=>e(e.s=a);e.O(0,[2992,3644,5511,3366,8248,4053,3380,589,2085,8441,1684,7358],()=>a(29960)),_N_E=e.O()}]);